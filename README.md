# â˜ï¸ CloudGallery (äº‘å›¾åºŠ)

> åŸºäº Hugging Face Datasets çš„æ— é™å®¹é‡ã€é«˜é¢œå€¼ã€ç§æœ‰åŒ–å›¾åºŠç³»ç»Ÿã€‚

[![Hugging Face Spaces](https://img.shields.io/badge/%F0%9F%A4%97%20Hugging%20Face-Spaces-blue)](https://huggingface.co/spaces)
[![Python](https://img.shields.io/badge/Python-Flask-green)](https://flask.palletsprojects.com/)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

**CloudGallery** æ˜¯ä¸€ä¸ªè½»é‡çº§çš„å›¾åºŠåº”ç”¨ï¼Œä¸“ä¸ºéƒ¨ç½²åœ¨ **Hugging Face Spaces** è€Œè®¾è®¡ã€‚å®ƒåˆ©ç”¨ **Hugging Face Datasets** ä½œä¸ºåç«¯å­˜å‚¨ï¼Œå®ç°äº†ç†è®ºä¸Šçš„æ— é™å…è´¹å­˜å‚¨ç©ºé—´ã€‚å‰ç«¯é‡‡ç”¨æç®€çš„ iOS é£æ ¼è®¾è®¡ï¼Œæ”¯æŒç£¨ç ‚ç»ç’ƒç‰¹æ•ˆã€æ‚¬æµ®é¢„è§ˆå’Œå¤šå›¾ä¸Šä¼ ã€‚

---

## âœ¨ åŠŸèƒ½äº®ç‚¹

* **â™¾ï¸ æ— é™å­˜å‚¨**ï¼šç›´æ¥å¯¹æ¥ Hugging Face Datasetsï¼Œå…è´¹ä¸”æ— éœ€æ‹…å¿ƒå®¹é‡é™åˆ¶ã€‚
* **ğŸ¨ æè‡´ UI**ï¼š
    * **iOS é£æ ¼é¢„è§ˆ**ï¼šæ‚¬æµ®å¼ Lightboxï¼Œå¸¦åº•éƒ¨ Dock æ ï¼ˆFilmstripï¼‰ã€‚
    * **ç£¨ç ‚ç»ç’ƒ (Glassmorphism)**ï¼šå…¨ç«™é‡‡ç”¨åŠé€æ˜æ¨¡ç³ŠèƒŒæ™¯ï¼Œé€šé€æœ‰è´¨æ„Ÿã€‚
    * **æš—é»‘/äº®è‰²é€‚é…**ï¼šçº¯å‡€çš„åŠé€æ˜è§†è§‰ä½“éªŒã€‚
* **ğŸš€ é«˜æ•ˆä¸Šä¼ **ï¼š
    * æ”¯æŒ**æ‰¹é‡å¤šé€‰ä¸Šä¼ **ã€‚
    * è‡ªåŠ¨ç”Ÿæˆ **4ä½æç®€çŸ­æ–‡ä»¶å** (å¦‚ `a9b2.jpg`)ï¼Œé˜²æ­¢æ–‡ä»¶åå†—é•¿ã€‚
* **ğŸ”’ å®‰å…¨ä¿æŠ¤**ï¼š
    * å†…ç½®è´¦å·å¯†ç ç™»å½•ç³»ç»Ÿã€‚
    * å…¨å±æŸ¥çœ‹é“¾æ¥å¯å…¬å¼€åˆ†äº«ï¼Œä½†ä¸Šä¼ /åˆ é™¤éœ€é‰´æƒã€‚
* **ğŸ› ï¸ å®ç”¨å·¥å…·**ï¼š
    * ä¸€é”®å¤åˆ¶ç›´é“¾ / Markdown é“¾æ¥ã€‚
    * åœ¨çº¿å›¾ç‰‡åˆ é™¤ï¼ˆåç«¯åŒæ­¥åˆ é™¤ï¼‰ã€‚
    * å›¾ç‰‡è¯¦ç»†ä¿¡æ¯æ˜¾ç¤ºï¼ˆåˆ†è¾¨ç‡ã€å¤§å°ï¼‰ã€‚
    * æ— é™è‡ªç”±ç¼©æ”¾æŸ¥çœ‹ç»†èŠ‚ã€‚

---

## ğŸ“¸ ç•Œé¢é¢„è§ˆ

*(æ­¤å¤„å¯ä»¥æ”¾ä¸€å¼ ä½ çš„é¡¹ç›®æˆªå›¾ï¼Œä¾‹å¦‚ä¸»é¡µå’Œé¢„è§ˆé¡µé¢çš„æ‹¼å›¾)*

---

## ğŸš€ éƒ¨ç½²æŒ‡å— (Hugging Face Spaces)

è¿™æ˜¯æœ€æ¨èçš„éƒ¨ç½²æ–¹å¼ï¼Œå®Œå…¨å…è´¹ã€‚

### 1. å‡†å¤‡å·¥ä½œ
* æ³¨å†Œä¸€ä¸ª [Hugging Face](https://huggingface.co/) è´¦å·ã€‚
* åˆ›å»ºä¸€ä¸ª **Dataset** (æ•°æ®é›†)ï¼š
    * ç‚¹å‡» New Datasetã€‚
    * Name: ä¾‹å¦‚ `my-images`ã€‚
    * Type: **Private** (æ¨èï¼Œä¿æŠ¤éšç§)ã€‚
* è·å– **Access Token**ï¼š
    * è¿›å…¥ Settings -> Access Tokensã€‚
    * åˆ›å»ºä¸€ä¸ªæ–° Tokenï¼Œæƒé™å¿…é¡»é€‰ **Write** (å†™å…¥æƒé™)ã€‚

### 2. åˆ›å»º Space
1.  ç‚¹å‡» **New Space**ã€‚
2.  **SDK** é€‰æ‹© **Docker**ã€‚
3.  **Template** é€‰æ‹© **Blank**ã€‚

### 3. ä¸Šä¼ ä»£ç 
å°†æœ¬é¡¹ç›®ä¸­çš„ `app.py` å’Œ `Dockerfile` ä¸Šä¼ åˆ° Space çš„ Files ä¸­ã€‚

**Dockerfile å†…å®¹ç¤ºä¾‹ï¼š**
```dockerfile
FROM python:3.9-slim
WORKDIR /app
# å®‰è£…ä¾èµ–
RUN pip install --no-cache-dir flask flask-cors huggingface_hub gunicorn
# å¤åˆ¶æ‰€æœ‰æ–‡ä»¶
COPY . .
# åˆ›å»ºç¼“å­˜ç›®å½•
RUN mkdir -p /app/cache && chmod 777 /app/cache
# å¯åŠ¨
CMD ["python", "app.py"]
```

### 4. é…ç½®ç¯å¢ƒå˜é‡ (Settings)

è¿›å…¥ Space çš„ **Settings** -> **Variables and secrets**ï¼Œæ·»åŠ ä»¥ä¸‹å˜é‡ï¼š

| ç±»å‹ | å˜é‡å | æè¿° | ç¤ºä¾‹å€¼ |
| --- | --- | --- | --- |
| **Secret** | `HF_TOKEN` | ä½ çš„ Hugging Face Write Token | `hf_xxxx...` |
| **Secret** | `ADMIN_USER` | åå°ç™»å½•è´¦å· | `admin` |
| **Secret** | `ADMIN_PASS` | åå°ç™»å½•å¯†ç  | `password123` |
| **Variable** | `DATASET_NAME` | ä½ çš„æ•°æ®é›†åç§° (æ ¼å¼: ç”¨æˆ·å/æ•°æ®é›†å) | `username/my-images` |

*(å¯é€‰)* `app.py` ä»£ç ä¸­é»˜è®¤ç”Ÿæˆäº†å›ºå®šçš„ `SECRET_KEY`ã€‚ä¸ºäº†æ›´å®‰å…¨ï¼Œä½ å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹ä»£ç ä¸­çš„ `app.secret_key`ã€‚

### 5. é‡å¯å¹¶ä½¿ç”¨

é…ç½®å®Œæˆåï¼ŒSpace ä¼šè‡ªåŠ¨é‡å»ºã€‚ç­‰å¾…ä¸Šæ–¹å˜æˆ **Running** (ç»¿è‰²)ï¼Œå³å¯ç‚¹å‡» App è¿›è¡Œè®¿é—®ã€‚

> **æ³¨æ„**ï¼šç”±äºæµè§ˆå™¨å¯¹ iframe çš„ Cookie é™åˆ¶ï¼Œå¦‚æœåœ¨ Space å°çª—å£ç™»å½•å¤±è´¥ï¼Œè¯·ç‚¹å‡»å³ä¸Šè§’çš„ **"Open in new tab"** åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ä½¿ç”¨ã€‚

---

## ğŸ’» æœ¬åœ°è¿è¡Œ

å¦‚æœä½ æƒ³åœ¨æœ¬åœ°ç”µè„‘å¼€å‘æˆ–è¿è¡Œï¼š

1. **å…‹éš†ä»“åº“**
```bash
git clone [https://github.com/yourusername/CloudGallery.git](https://github.com/yourusername/CloudGallery.git)
cd CloudGallery
```


2. **å®‰è£…ä¾èµ–**
```bash
pip install flask flask-cors huggingface_hub werkzeug
```


3. **è®¾ç½®ç¯å¢ƒå˜é‡** (Linux/Mac)
```bash
export HF_TOKEN="ä½ çš„token"
export DATASET_NAME="ä½ çš„ç”¨æˆ·å/æ•°æ®é›†å"
export ADMIN_USER="admin"
export ADMIN_PASS="123456"
```


*(Windows Powershell ä½¿ç”¨ `$env:HF_TOKEN="..."`)*
4. **è¿è¡Œ**
```bash
python app.py
```


è®¿é—® `http://127.0.0.1:7860`ã€‚

---

## ğŸ“ ä¾èµ–åˆ—è¡¨ (requirements.txt)

å¦‚æœä½ ä½¿ç”¨ pip å®‰è£…ï¼Œå»ºè®®åˆ›å»º `requirements.txt`ï¼š

```txt
flask
flask-cors
huggingface_hub
werkzeug
gunicorn
```

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue æˆ– Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº [MIT License](https://www.google.com/search?q=LICENSE) å¼€æºã€‚


---

### ğŸ’¡ è¡¥å……å»ºè®®

æ—¢ç„¶ä½ è¦å‘å¸ƒåˆ° GitHubï¼Œå»ºè®®ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹ç»“æ„å¦‚ä¸‹ï¼š

```text
CloudGallery/
â”œâ”€â”€ app.py              # æˆ‘ä»¬åˆšæ‰å†™çš„å®Œæ•´ä»£ç 
â”œâ”€â”€ Dockerfile          # ä¸Šé¢æä¾›çš„ Dockerfile å†…å®¹
â”œâ”€â”€ requirements.txt    # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ README.md           # ä¸Šé¢çš„æ–‡æ¡£
â””â”€â”€ .gitignore          # å¿½ç•¥æ–‡ä»¶
```

**`.gitignore` æ–‡ä»¶å»ºè®®å†…å®¹**ï¼ˆé˜²æ­¢ä½ ä¸å°å¿ƒæŠŠç¼“å­˜æ–‡ä»¶ä¼ ä¸Šå»ï¼‰ï¼š

```gitignore
__pycache__/
*.pyc
/cache
.env
```

